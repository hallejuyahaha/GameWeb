<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="css/index.css" />
    <title>GameWeb</title>
</head>
<body>
    <div id="main">
        用户名:
        <input type="text" id="uname_text" />
        密码:
        <input type="password" id="pword_text" />
        <input type="button" id="login_button" value="登录" onclick="log()" />
        <input type="button" id="zhuce_button" value="注册" onclick="zhu()"/>
    </div>
    <div>默认账号  aaa  密码 111</div>
    <div id="zz"  class="zhu">
        新用户名：<input type="text" id="newuser"/>
        密码：<input type="password" id="newpassword"/>
        <input type="button" id="newzhuce" value="添加新用户" onclick="add()"/>
    </div>
    <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
        function log() {
            if (a.value.length > 0 && b.value.length > 0) {
                $.ajax({
                    url: 'hand.ashx',
                    dataType: 'text',
                    type: 'POST',
                    data: {
                        username: a.value,
                        password: b.value,
                        method: "index",
                    },
                    success: function (out) {
                        if (out == "成功") {
                            window.location.href = "Main.html";
                        } else { alert('账号密码错误'); } 
                    },
                    error: function () { alert('error'); }
                });
                document.cookie = "uname="+a.value.toString();//将账号放入cookie
            }
            else
            {
                window.alert("账号密码不能为空");
            }
        }
    </script>
</body>
</html>
